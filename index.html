<html>
  <head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>
<body>
  <h1 id="name" style="width: 80%; height:100%; float:left">
    <i id="icon" class="material-icons">refresh</i>
   
</h1>

<h3 id="message" style="width: 20%; height:100%; float:right">
   Loading...
</h3>
<script>
  var message = "";
  var status = 3;
  var nameText = document.getElementById('name');
  var iconText = document.getElementById('icon');
  var messageText = document.getElementById('message');
  
  $.get( "https://api.travis-ci.org/repos/EZ-Code-Developer/sound-recorder.json", function( data ) {
  if(data["last_build_status"] != null) {
    status = data["last_build_status"];
  } else {
    status = 2;
  }
});
  $.get( "https://api.travis-ci.org/repos/EZ-Code-Developer/sound-recorder/builds", function( data ) {
  message = data[0];
});
  update();
  
setInterval(function() {
  $.get( "https://api.travis-ci.org/repos/EZ-Code-Developer/sound-recorder.json", function( data ) {
  if(data["last_build_status"] != null) {
    status = data["last_build_status"];
  } else {
    status = 2;
  }
});
  $.get( "https://api.travis-ci.org/repos/EZ-Code-Developer/sound-recorder/builds", function( data ) {
  message = data[0];
});
  update();
}, 10000);

  function update() {
    if (status == 0) {
      document.body.style.backgroundColor = "#3ed850";
      iconText.innerHtml = "done";
    } else if (status == 1) {
      document.body.style.backgroundColor = "#ff4242";
      iconText.innerHtml = "bug_report";
    } else if (status == 2) {
      document.body.style.backgroundColor = "#42b9ff";
      iconText.innerHtml = "build";
    } else {
      document.body.style.backgroundColor = "#9b9b9b";
      iconText.innerHtml = "refresh";
    }
    messageText.innerHtml = message;
  }
</script>
</body>
</html>
